<!DOCTYPE html>
<html>
  <head>
    <title>Leaflet.PMTilesLayer polygon example</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  </head>
  <body style='margin:0'>
    <div id="map" style="width: 100vw; height: 100vh; background: white"></div>
    <script type="text/javascript"  src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-pmtiles-layer@latest/dist/Leaflet.PMTilesLayer.js"></script>

    <script>
      const map = L.map('map');
      map.setView([29.979678, -90.078965], 10)

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>'
      }).addTo(map);

      // const pmtilesurl = "https://raw.githubusercontent.com/eliotjordan/Leaflet.PMTilesLayer/main/cypress/fixtures/zipcodes.pmtiles";
      // const pmtilesurl = "https://pul-tile-images.s3.amazonaws.com/cb_2018_us_zcta510_500k.pmtiles"

      const vectortileoptions = {
        rendererFactory: L.canvas.tile,
        style: {
          weight:  2,
          fill: true
        },
        interactive: true
      };

      const pmTilesLayer =  L.pmtilesLayer(pmtilesurl, vectortileoptions)
        .on('click', function(e) {
          L.popup()
            .setContent(e.layer.properties.ZCTA)
            .setLatLng(e.latlng)
            .openOn(map);
          L.DomEvent.stop(e);
        })

      pmTilesLayer.addTo(map)
    </script>
  </body>
</html>
